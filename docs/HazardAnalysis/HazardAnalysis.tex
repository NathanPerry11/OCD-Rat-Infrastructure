\documentclass{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}

\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\title{Hazard Analysis\\\progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle
\thispagestyle{empty}

~\newpage

\pagenumbering{roman}

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
Date1 & Name(s) & Description of changes\\
Date2 & Name(s) & Description of changes\\
... & ... & ...\\
\bottomrule
\end{tabularx}
\end{table}

~\newpage

\tableofcontents

~\newpage

\pagenumbering{arabic}

\wss{You are free to modify this template.}

\section{Introduction}

Hazard analysis is an important part of this project because it identifies potential risks and outlines how to mitigate and plan for errors that could occur during the development and operating. Conducting this analysis helps ensure that safety, reliability, and stability are addressed early in the design process.

A hazard is a condition in which a failure, malfunction, or unintended behavior of the software occurs which can cause harm, loss, or an unsafe system state.

\section{Scope and Purpose of Hazard Analysis}

The scope of this analysis includes all major software components of the system, such as the data retrieval module interfacing with the FRDR API, the data processing and analysis algorithms, and the user interface for visualization and interaction. External components, including FRDR’s data infrastructure and third-party libraries such as machine learning or natural language processing models. These are considered only in terms of their interactions with the system.

The primary purpose of conducting this analysis is to identify software related hazards that could compromise the accuracy, reliability, or security of the system’s outputs. Potential losses include the generation of misleading behavioural metrics, corruption or misrepresentation of research data, or loss of data availability. By identifying these risks early, this analysis supports the development of safety and security requirements that promote data integrity, consistent functionality, and reliable operation for all users.

\wss{You should say what \textbf{loss} could be incurred because of the hazards.}

\section{System Boundaries and Components}

\wss{Dividing the system into components will help you brainstorm the hazards.
You shouldn't do a full design of the components, just get a feel for the major
ones.  For projects that involve hardware, the components will typically include
each individual piece of hardware.  If your software will have a database, or an
important library, these are also potential components.}

\par{ The components of the system that will be subject to the hazard analysis are as follows:}

\begin{enumerate}
    \item \textbf{The FRDR Database:} All 29 individual datasets and 60,000 relevant data objects that exist on this repository. Note that this component is
    incorporated into the system in a read-only fashion meaning that at no point in the system creation will any part of it be changed, developed or written to
    with the exception of Dr. Henry Szechtman or Dr. Anna Dvorkin-Gheva depositing more data into the repository, the execution of which is seperate from the system.
    \item \textbf{Front-End Query Application:} A front-end web application that provides access for users to query results from the system. This component contains
    some subcomponents
        \begin{itemize}
            \item \textbf{Natural Language Processor:} This subcomponent takes in natural language input and uses an LLM to generate a relevant query.
            \item \textbf{Filter Query Engine:} This subcomponent allows the user to manually add filters based on trial data and generates a relevant query.
            \item \textbf{Webstore Query Engine:} This subcomponent provides pre-defined result sets that may be relevant to the user for the user to browse and
            use if relevant.
        \end{itemize}
    \item \textbf{API Layer:} An API layer will be implemented to connect the constructed system with the FRDR database. This layer will be responsible for 
    retrieving the relevant data from the FRDR for each individual query.
    \item \textbf{Backend System:} This component includes several subcomponents:
        \begin{itemize}
            \item \textbf{Database Schema:} This subcomponent is a database scehma which unifies the datasets into one schema while also connecting the metadata annotations
            and related data objects in the format of a relational DBMS and points to the FRDR database.
            \item \textbf{Behavioural Analysis LLM:} This subcomponent contains the business logic and an LLM model responsible for categorizing the trials
            based on compulsive behaviour or rat poses.
            \item \textbf{Visualization Engine:} This subcomponent is responsible for taking a result set and generating requested visualizations from it.
        \end{itemize}
\end{enumerate}

\section{Critical Assumptions}

\wss{These assumptions that are made about the software or system.  You should
minimize the number of assumptions that remove potential hazards.  For instance,
you could assume a part will never fail, but it is generally better to include
this potential failure mode.}

\section{Failure Mode and Effect Analysis}

\wss{Include your FMEA table here. This is the most important part of this document.}
\wss{The safety requirements in the table do not have to have the prefix SR.
The most important thing is to show traceability to your SRS. You might trace to
requirements you have already written, or you might need to add new
requirements.}
\wss{If no safety requirement can be devised, other mitigation strategies can be
entered in the table, including strategies involving providing additional
documentation, and/or test cases.}

\section{Safety and Security Requirements}

\wss{Newly discovered requirements.  These should also be added to the SRS.  (A
rationale design process how and why to fake it.)}

\subsection{Safety Requirements}
\par{The system does not directly involve physical safety or critical operations. However, to ensure data reliability and prevent unintended harm to research workflows, the following safety requirements have been identified:}
\begin{itemize}
    \item \textbf{SAF.R.1 -- Data Integrity Protection} \\
    \textbf{Description:} The system shall ensure that all query results are returned exactly as stored in the FRDR repository, without modification or corruption. \\
    \textbf{Rationale:} Prevents accidental misinterpretation of research data that could lead to invalid conclusions. \\
    \textbf{Fit Criterion:} Query results match the FRDR source files exactly, verified through checksum or metadata comparison.
    
    \item \textbf{SAF.R.2 -- Fault Isolation} \\
    \textbf{Description:} Failures in one component (e.g., NLP module) shall not compromise the operation of other system components. \\
    \textbf{Rationale:} Prevents cascading failures that could disrupt research sessions. \\
    \textbf{Fit Criterion:} The system remains operational when individual modules fail, with appropriate error messages.
    
    \item \textbf{SAF.R.3 -- Safe Handling of Large Data Sets} \\
    \textbf{Description:} The system shall prevent browsers from directly loading excessively large datasets, instead providing download or batch processing options. \\
    \textbf{Rationale:} Protects user devices from freezing or crashing during analysis. \\
    \textbf{Fit Criterion:} Queries exceeding size thresholds trigger warnings and offer alternative access methods.
\end{itemize}

\subsection{Security Requirements}
\begin{itemize}
    \item \textbf{SEC.R.1 -- Enhanced Input Validation} \\
    \textbf{Description:} All user inputs must go through validation to prevent inappropriate queries, code injection, or other malicious activity. \\
    \textbf{Rationale:} Prevents injection attacks and malformed queries from reaching backend services. \\
    \textbf{Fit Criterion:} All inputs are sanitized and penetration testing shows no injection vulnerabilities.
    
    \item \textbf{SEC.R.2 -- Access Logging} \\
    \textbf{Description:} All administrative actions, including deployment and maintenance, must be logged to provide traceability. \\
    \textbf{Rationale:} Ensures accountability and allows auditing of configuration changes. \\
    \textbf{Fit Criterion:} 100\% of administrative actions are logged with timestamps and stored securely.
    
    \item \textbf{SEC.R.3 -- Dependency Monitoring} \\
    \textbf{Description:} The system shall scan and monitor open-source frameworks, dependencies, and libraries for security vulnerabilities and update them regularly. \\
    \textbf{Rationale:} Protects against exploitation through known vulnerabilities in third-party components. \\
    \textbf{Fit Criterion:} Automated scans show no unresolved high-severity vulnerabilities older than 14 days.
    
    \item \textbf{SEC.R.4 -- Incident Documentation} \\
    \textbf{Description:} The team shall maintain documentation outlining procedures for responding to security incidents, including roles, notifications, and mitigation timelines. \\
    \textbf{Rationale:} Ensures coordinated and timely responses to potential security incidents. \\
    \textbf{Fit Criterion:} Incident response documentation exists, is reviewed regularly, and defines clear escalation steps.
    
    \item \textbf{SEC.R.5 -- Safe File Downloads} \\
    \textbf{Description:} All downloadable files shall be scanned for malware and saved with appropriate protection to safeguard user environments. \\
    \textbf{Rationale:} Prevents the distribution of malicious or corrupted files to researchers. \\
    \textbf{Fit Criterion:} All files pass malware scanning before being made available for download.
\end{itemize}


\section{Roadmap}

\wss{Which safety requirements will be implemented as part of the capstone timeline?
Which requirements will be implemented in the future?}

\newpage{}

\section*{Appendix --- Reflection}

\wss{Not required for CAS 741}

\input{../Reflection.tex}

\begin{enumerate}
    \item What went well while writing this deliverable? 
    \item What pain points did you experience during this deliverable, and how
    did you resolve them?
    \item Which of your listed risks had your team thought of before this
    deliverable, and which did you think of while doing this deliverable? For
    the latter ones (ones you thought of while doing the Hazard Analysis), how
    did they come about?
    \item Other than the risk of physical harm (some projects may not have any
    appreciable risks of this form), list at least 2 other types of risk in
    software products. Why are they important to consider?
\end{enumerate}

\end{document}